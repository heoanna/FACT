category: "thinking",
                question: "의사결정을 할 때 당신이 가장 중요하게 고려하는 요소는 무엇입니까?",
                options: [
                    { text: "장기적인 비전과 전략적 방향성", score: 5 },
                    { text: "창의적인 가능성과 혁신적인 접근법", score: 4 },
                    { text: "논리적인 분석과 객관적인 사실", score: 3 },
                    { text: "실행 가능성과 현실적인 결과", score: 2 },
                    { text: "사람들에게 미치는 영향과 관계적 가치", score: 1 }
                ]
            },
            {
                category: "thinking",
                question: "복잡한 아이디어나 개념을 이해할 때 당신이 주로 활용하는 접근법은 무엇입니까?",
                options: [
                    { text: "전체적인 구조와 핵심 원리를 파악한다", score: 5 },
                    { text: "다양한 관점에서 생각하고 새로운 연결고리를 찾는다", score: 4 },
                    { text: "단계별로 체계적으로 분석하고 논리적으로 이해한다", score: 3 },
                    { text: "실제 사례와 적용 방법을 통해 이해한다", score: 2 },
                    { text: "그것이 사람들에게 어떤 의미와 가치가 있는지 고려한다", score: 1 }
                ]
            },
            {
                category: "thinking",
                question: "불확실한 상황에서 의사결정을 할 때 당신의 접근 방식은 어떠합니까?",
                options: [
                    { text: "큰 그림과 장기적인 영향을 고려하여 직관적으로 판단한다", score: 5 },
                    { text: "다양한 시나리오를 상상하고 창의적인 대안을 탐색한다", score: 4 },
                    { text: "가능한 모든 정보를 수집하고 논리적으로 분석한다", score: 3 },
                    { text: "실용적인 관점에서 리스크와 이득을 평가한다", score: 2 },
                    { text: "관련된 사람들의 의견을 듣고 가치 기반으로 판단한다", score: 1 }
                ]
            }
        ];
        
        // 결과 해석을 위한 데이터
        const interpretations = {
            function: [
                {
                    range: [20, 25],
                    title: "비전 제시자 (Visionary)",
                    description: "당신은 팀의 방향을 설정하고 큰 그림을 그리는 데 탁월한 능력을 가지고 있습니다. 장기적인 목표와 전략적 사고를 통해 팀을 이끄는 리더십을 발휘합니다. 비전을 명확히 제시하고 팀원들에게 영감을 주는 역할을 합니다."
                },
                {
                    range: [16, 19],
                    title: "혁신가 (Innovator)",
                    description: "당신은 새로운 아이디어를 생성하고 창의적인 해결책을 찾는 데 탁월합니다. 기존의 틀에서 벗어나 혁신적인 접근법으로 팀에 기여하며, 문제를 새로운 관점에서 바라보는 능력이 뛰어납니다."
                },
                {
                    range: [12, 15],
                    title: "분석가 (Analyst)",
                    description: "당신은 정보를 수집하고 체계적으로 분석하여 팀의 의사결정을 지원하는 역할을 합니다. 객관적인 데이터를 바탕으로 논리적인 통찰력을 제공하며, 복잡한 문제를 명확하게 이해하고 설명하는 능력이 있습니다."
                },
                {
                    range: [8, 11],
                    title: "실행가 (Implementer)",
                    description: "당신은 아이디어를 구체적인 행동으로 옮기고 계획을 실행하는 데 탁월합니다. 체계적인 접근법으로 프로젝트를 관리하며, 실용적인 해결책을 통해 목표 달성을 지원합니다."
                },
                {
                    range: [0, 7],
                    title: "조정자 (Coordinator)",
                    description: "당신은 팀원들 간의 관계를 조율하고 협력적인 분위기를 조성하는 데 탁월합니다. 다양한 의견을 수렴하고 갈등을 해결하며, 팀워크를 강화하는 중요한 역할을 담당합니다."
                }
            ],
            action: [
                {
                    range: [20, 25],
                    title: "전략적 행동가 (Strategic Actor)",
                    description: "당신은 큰 그림을 보고 전략적으로 행동하는 경향이 있습니다. 장기적인 목표를 중심으로 행동 계획을 수립하며, 의사결정 시 전체적인 방향성과 영향력을 고려합니다."
                },
                {
                    range: [16, 19],
                    title: "창의적 행동가 (Creative Actor)",
                    description: "당신은 새롭고 다양한 방법을 시도하는 유연한 행동 스타일을 가지고 있습니다. 문제 해결 시 기존의 틀에서 벗어나 창의적인 접근법을 모색하며, 변화에 적응하는 능력이 뛰어납니다."
                },
                {
                    range: [12, 15],
                    title: "분석적 행동가 (Analytical Actor)",
                    description: "당신은 체계적이고 논리적인 접근법으로 행동하는 경향이 있습니다. 철저한 분석과 계획을 바탕으로 의사결정을 내리며, 정확성과 일관성을 중요시합니다."
                },
                {
                    range: [8, 11],
                    title: "실용적 행동가 (Practical Actor)",
                    description: "당신은 실용적이고 효율적인 방식으로 행동하는 경향이 있습니다. 구체적인 결과를 중시하며, 현실적인 제약 내에서 최선의 해결책을 찾아 실행에 옮깁니다."
                },
                {
                    range: [0, 7],
                    title: "협력적 행동가 (Collaborative Actor)",
                    description: "당신은 다른 사람들과의 협력을 통해 목표를 달성하는 행동 스타일을 가지고 있습니다. 팀워크를 중시하며, 구성원들의 참여와 합의를 바탕으로 행동합니다."
                }
            ],
            communication: [
                {
                    range: [20, 25],
                    title: "지시적 소통가 (Directive Communicator)",
                    description: "당신은 명확하고 간결하게 의사를 전달하는 소통 스타일을 가지고 있습니다. 핵심 메시지를 효과적으로 전달하며, 목표 지향적인 대화를 이끄는 능력이 있습니다."
                },
                {
                    range: [16, 19],
                    title: "표현적 소통가 (Expressive Communicator)",
                    description: "당신은 열정적이고 생동감 있는 소통 스타일을 가지고 있습니다. 흥미로운 이야기와 비유를 통해 아이디어를 전달하며, 다른 사람들에게 영감을 주는 소통 방식을 사용합니다."
                },
                {
                    range: [12, 15],
                    title: "체계적 소통가 (Systematic Communicator)",
                    description: "당신은 논리적이고 체계적인 소통 스타일을 가지고 있습니다. 정확한 정보와 상세한 설명을 제공하며, 명확한 구조로 의사를 전달합니다."
                },
                {
                    range: [8, 11],
                    title: "실용적 소통가 (Practical Communicator)",
                    description: "당신은 실용적이고 직접적인 소통 스타일을 가지고 있습니다. 구체적인 사례와 실행 가능한 제안을 중심으로 의사소통하며, 명확한 지침을 제공합니다."
                },
                {
                    range: [0, 7],
                    title: "공감적 소통가 (Empathetic Communicator)",
                    description: "당신은 따뜻하고 배려심 깊은 소통 스타일을 가지고 있습니다. 상대방의 말을 경청하고 감정에 공감하며, 지지적인 메시지를 통해 관계를 강화합니다."
                }
            ],
            thinking: [
                {
                    range: [20, 25],
                    title: "개념적 사고가 (Conceptual Thinker)",
                    description: "당신은 추상적이고 개념적인 사고에 강점이 있습니다. 전체적인 맥락과 패턴을 파악하는 능력이 뛰어나며, 장기적인 영향과 가능성을 고려합니다."
                },
                {
                    range: [16, 19],
                    title: "창의적 사고가 (Creative Thinker)",
                    description: "당신은 다양한 관점에서 생각하고 새로운 연결고리를 발견하는 창의적 사고 능력이 있습니다. 기존의 틀에서 벗어나 혁신적인 아이디어를 생성하는 데 탁월합니다."
                },
                {
                    range: [12, 15],
                    title: "분석적 사고가 (Analytical Thinker)",
                    description: "당신은 논리적이고 체계적인 사고 방식을 가지고 있습니다. 복잡한 문제를 구성 요소로 분해하고 분석하는 능력이 뛰어나며, 객관적인 사실에 기반한 판단을 내립니다."
                },
                {
                    range: [8, 11],
                    title: "실용적 사고가 (Practical Thinker)",
                    description: "당신은 현실적이고 실용적인 사고 방식을 가지고 있습니다. 이론보다는 실제 적용 가능성과 효용성을 중시하며, 실질적인 결과를 중심으로 생각합니다."
                },
                {
                    range: [0, 7],
                    title: "관계적 사고가 (Relational Thinker)",
                    description: "당신은 사람 중심의 사고 방식을 가지고 있습니다. 의사결정 시 관계적 영향과 가치를 중요시하며, 다양한 관점과 감정을 고려합니다."
                }
            ]
        };
        
        // 종합 분석을 위한 조합 패턴
        const combinationPatterns = [
            {
                pattern: ["비전 제시자 (Visionary)", "전략적 행동가 (Strategic Actor)", "지시적 소통가 (Directive Communicator)", "개념적 사고가 (Conceptual Thinker)"],
                title: "전략적 리더 (Strategic Leader)",
                description: "당신은 큰 그림을 보고 장기적인 비전을 설정하여 팀을 이끄는 타고난 리더입니다. 전략적 사고와 명확한 의사소통을 통해 팀에 방향성을 제시하고, 개념적 사고로 복잡한 상황을 단순화시키는 능력이 있습니다. 팀의 방향을 설정하고 변화를 주도하는 역할에 적합합니다."
            },
            {
                pattern: ["혁신가 (Innovator)", "창의적 행동가 (Creative Actor)", "표현적 소통가 (Expressive Communicator)", "창의적 사고가 (Creative Thinker)"],
                title: "창의적 혁신가 (Creative Innovator)",
                description: "당신은 새로운 아이디어를 생성하고 기존의 틀을 깨는 혁신적인 사고를 가진 사람입니다. 열정적인 소통과 유연한 행동 스타일로 팀에 창의적인 에너지를 불어넣으며, 문제 해결에 있어 독창적인 접근법을 제시합니다. 혁신이 필요한 프로젝트나 변화 관리 역할에 적합합니다."
            },
            {
                pattern: ["분석가 (Analyst)", "분석적 행동가 (Analytical Actor)", "체계적 소통가 (Systematic Communicator)", "분석적 사고가 (Analytical Thinker)"],
                title: "논리적 분석가 (Logical Analyst)",
                description: "당신은 체계적인 분석과 논리적 사고를 통해 복잡한 문제를 해결하는 능력이 뛰어납니다. 정확한 정보와 객관적인 데이터를 바탕으로 의사결정을 지원하며, 명확하고 구조화된 소통으로 팀에 기여합니다. 전략 수립, 데이터 분석, 품질 관리 등의 역할에 적합합니다."
            },
            {
                pattern: ["실행가 (Implementer)", "실용적 행동가 (Practical Actor)", "실용적 소통가 (Practical Communicator)", "실용적 사고가 (Practical Thinker)"],
                title: "현실적 실행가 (Practical Implementer)",
                description: "당신은 구체적인 계획을 수립하고 효율적으로 실행하는 데 탁월한 능력을 가지고 있습니다. 실용적인 사고와 직접적인 소통 방식으로 프로젝트를 성공적으로 완수하며, 현실적인 제약 내에서 최적의 해결책을 찾아냅니다. 프로젝트 관리, 운영, 실행 계획 수립 등의 역할에 적합합니다."
            },
            {
                pattern: ["조정자 (Coordinator)", "협력적 행동가 (Collaborative Actor)", "공감적 소통가 (Empathetic Communicator)", "관계적 사고가 (Relational Thinker)"],
                title: "인간 중심 조정자 (People-Centered Coordinator)",
                description: "당신은 팀원들 간의 관계를 조율하고 협력적인 환경을 조성하는 데 탁월한 능력을 가지고 있습니다. 공감적인 소통과 배려심 깊은 행동으로 팀의 화합을 이끌어내며, 모든 구성원이 가치 있게 여겨지는 문화를 만드는 데 기여합니다. 팀 빌딩, 갈등 해결, 변화 관리 등의 역할에 적합합니다."
            },
            // 혼합 패턴
            {
                pattern: ["mixed"],
                title: "다재다능한 균형자 (Versatile Balancer)",
                description: "당신은 여러 영역에서 균형 잡힌 강점을 보이는 다재다능한 인재입니다. 상황에 따라 다양한 역할과 접근법을 유연하게 활용할 수 있으며, 팀 내에서 다양한 기능을 수행할 수 있는 적응력이 뛰어납니다. 복합적인 역량이 필요한 중간 관리자나 프로젝트 코디네이터 역할에 적합합니다."
            }
        ];
        
        let currentQuestion = 0;
        let answers = [];
        
        // 진단 시작하기 버튼 클릭 시
        document.getElementById('startBtn').addEventListener('click', function() {
            document.getElementById('intro').classList.add('hidden');
            document.getElementById('test').classList.remove('hidden');
            displayQuestion();
        });
        
        // 이전 버튼 클릭 시
        document.getElementById('prevBtn').addEventListener('click', function() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        });
        
        // 다음 버튼 클릭 시
        document.getElementById('nextBtn').addEventListener('click', function() {
            // 현재 질문에 대한 답변이 선택되었는지 확인
            const selectedOption = document.querySelector(`input[name="q${currentQuestion}"]:checked`);
            
            if (!selectedOption) {
                alert('질문에 답변해주세요.');
                return;
            }
            
            // 답변 저장
            answers[currentQuestion] = {
                category: questions[currentQuestion].category,
                score: parseInt(selectedOption.value)
            };
            
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                // 모든 질문 완료
                showResults();
            }
        });
        
        // 다시 진단하기 버튼 클릭 시
        document.getElementById('restartBtn').addEventListener('click', function() {
            currentQuestion = 0;
            answers = [];
            document.getElementById('results').style.display = 'none';
            document.getElementById('test').classList.remove('hidden');
            displayQuestion();
        });
        
        // 질문 표시 함수
        function displayQuestion() {
            const questionContainer = document.getElementById('question-container');
            const questionData = questions[currentQuestion];
            
            // 진행 상태 업데이트
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
            
            // 이전 버튼 상태 관리
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            
            // 다음 버튼 텍스트 변경
            document.getElementById('nextBtn').textContent = currentQuestion === questions.length - 1 ? '결과 보기' : '다음';
            
            // 질문 표시
            let html = `
                <div class="question">
                    <p>${currentQuestion + 1}. ${questionData.question}</p>
                    <div class="options">
            `;
            
            questionData.options.forEach((option, index) => {
                const checked = answers[currentQuestion] && answers[currentQuestion].score === option.score ? 'checked' : '';
                html += `
                    <label class="option">
                        <input type="radio" name="q${currentQuestion}" value="${option.score}" ${checked}>
                        ${option.text}
                    </label>
                `;
            });
            
            html += `
                    </div>
                </div>
            `;
            
            questionContainer.innerHTML = html;
        }
        
        // 결과 계산 및 표시 함수
        function showResults() {
            document.getElementById('test').classList.add('hidden');
            document.getElementById('results').style.display = 'block';
            
            // 카테고리별 점수 계산
            const scores = {
                function: 0,
                action: 0,
                communication: 0,
                thinking: 0
            };
            
            answers.forEach(answer => {
                scores[answer.category] += answer.score;
            });
            
            // 결과 차트 업데이트
            updateChart(scores);
            
            // 카테고리별 해석 표시
            const types = {};
            
            for (const category in scores) {
                const score = scores[category];
                const interpretation = getInterpretation(category, score);
                types[category] = interpretation.title;
                
                document.getElementById(`${category}-result`).innerHTML = `
                    <h4>${interpretation.title}</h4>
                    <p>${interpretation.description}</p>
                `;
            }
            
            // 종합 분석 표시
            const overallAnalysis = getCombinationAnalysis(types);
            document.getElementById('overall-result').innerHTML = `
                <h4>${overallAnalysis.title}</h4>
                <p>${overallAnalysis.description}</p>
            `;
        }
        
        // 차트 업데이트 함수
        function updateChart(scores) {
            // 각 카테고리의 최대 점수는 25점
            const maxScore = 25;
            
            for (const category in scores) {
                const percentage = (scores[category] / maxScore) * 100;
                document.getElementById(`${category}-bar`).style.width = `${percentage}%`;
                document.getElementById(`${category}-score`).textContent = `${scores[category]}점`;
            }
        }
        
        // 점수에 따른 해석 가져오기
        function getInterpretation(category, score) {
            const categoryInterpretations = interpretations[category];
            
            for (const interpretation of categoryInterpretations) {
                if (score >= interpretation.range[0] && score <= interpretation.range[1]) {
                    return interpretation;
                }
            }
            
            return categoryInterpretations[categoryInterpretations.length - 1]; // 기본값
        }
        
        // 조합에 따른 종합 분석 가져오기
        function getCombinationAnalysis(types) {
            const typeArray = [types.function, types.action, types.communication, types.thinking];
            
            // 정확히 일치하는 패턴 찾기
            for (const combo of combinationPatterns) {
                if (combo.pattern.length === 4 && 
                    combo.pattern[0] === types.function && 
                    combo.pattern[1] === types.action && 
                    combo.pattern[2] === types.communication && 
                    combo.pattern[3] === types.thinking) {
                    return combo;
                }
            }
            
            // 혼합 패턴 반환
            return combinationPatterns.find(combo => combo.pattern.includes("mixed"));
        }
    </script>
</body>
</html>
